# ソフトウェアII 第5回 課題4 巡回セールスマン問題

## 実施したこと

- 初期解を複数パターン生成して山登り法で局所解を求め、最も良い局所解を最適解として表示している。
  - 提出コードでは`solve.c`において`#define NUM_INIT_ANS 50`として初期解の個数を50個に設定している。
- 各初期解から得られた局所解の移動距離も途中に表示している。
- 2つの町の訪問順を固定し、逆向きの経路の探索を阻止している。

## 都市数が20の場合の解

`./bin/gencity 20 1234 test20`で得られた`test20`ファイルを入力とした際の解は以下の通り。次のセクションで述べるように**400個**の初期解を生成し、探索した結果である。

```
total distance = 184.798020
0 -> 17 -> 10 -> 16 -> 3 -> 12 -> 7 -> 4 -> 18 -> 15 -> 9 -> 13 -> 19 -> 11 -> 5 -> 1 -> 14 -> 8 -> 2 -> 6 -> 0
```

## 初期解の個数を増やしてどのような結果になるか

初期解の個数を増やすことで、良い解が得られる可能性が高まるが、ある程度の個数を超えるとそれ以上増やしてもあまり意味がないと考えられる。たとえば、都市数が20の場合では、

- 初期解5個：移動距離214.950905
- 初期解10個：移動距離218.777106
- 初期解50個：移動距離189.970764
- 初期解100個：移動距離188.230347
- 初期解200個：移動距離187.677033
- 初期解400個：移動距離184.798020

となったので、初期解の個数が多い方が良い会が得られる傾向がみられた。しかし、初期解の個数が多いほど計算に時間がかかる上に、上記の場合では、50個以上の場合ではそれほど最終的な結果に差がない。現実的には、ある程度の初期解の個数で得られた結果で妥協したほうが良い場合もあると予想される。

## 有効な可能性の高い初期値

最終的な解を観察すると、近い都市同士は連続して訪問されている。そこで、距離の近い都市同士を連続で訪問するような初期解を生成しておくと、最適解に近い解が少ない探索で得られるのではないかと考えられる。
