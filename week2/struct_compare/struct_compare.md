# ソフトウェアII 第2回 課題2

## 何が起きているか

`h1`および`h2`はアラインメントにより、`b`と`c`の間に7バイト分のパディングが生じている。そのパディングも含めて構造体のあるメモリ範囲24バイト分全体を比較することで、パディングに予期しないデータが書き込まれた際に、各メンバ変数が同じ内容である2つの構造体が、異なるものとして判定されている。

## なぜメンバを逐次比較する必要があるか

構造体のメンバ変数はメモリ上に連続的に配置されるとは限らず、アラインメントによって、メンバ変数の間にパディングが生じることがある。このパディングにはどのようなデータが入っているかは不明で、構造体のインスタンスごとに異なる可能性がある。これによる構造体の比較の誤った判定を避けるために、メンバを逐次比較しなければならない。

## トリックの細工

`b`の先頭2バイト目から先に`hello`なる文字列を書き込んでいる。